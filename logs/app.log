{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-07 16:14:02"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-07 16:14:02"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-07 16:14:02"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-07 16:14:02"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-07 16:14:02"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:14:30"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:14:30 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:14:30"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-07 16:14:56"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:14:56 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:14:56"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:14:56"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:14:56 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:14:56"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-07 16:27:02"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:27:02 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:27:02"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:27:02"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:27:02 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:27:02"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:43:05"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:43:05 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:43:05"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:46:34"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:46:34 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:46:34"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:46:36"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:46:36 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:46:36"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:46:47"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:46:47 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:46:47"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:52:15"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:52:15 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:52:15"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 16:52:16"}
{"level":"info","message":"::1 - - [07/Aug/2025:22:52:16 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 16:52:16"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 17:41:41"}
{"level":"info","message":"::1 - - [07/Aug/2025:23:41:41 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 17:41:41"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:19:34"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:19:34 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:19:34"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:21:19"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:21:19 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:21:19"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:32:14"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:32:14 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:32:14"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:32:32"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:32:32 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:32:32"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:38:57"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:38:57 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:38:57"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:39:02"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:39:02 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:39:02"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:39:18"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:39:18 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:39:18"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:39:19"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:39:19 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:39:19"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:39:19"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:39:19 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:39:19"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 18:48:24"}
{"level":"info","message":"::1 - - [08/Aug/2025:00:48:24 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 18:48:24"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-08-07 18:58:17"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-07 19:16:24"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-07 19:16:24"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-07 19:16:24"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-07 19:16:24"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-07 19:16:24"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:16:41"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:16:41 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:16:41"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:20:12"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:20:12 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:20:12"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:31:35"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:31:35 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:31:35"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:31:53"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:31:53 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:31:53"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:31:55"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:31:55 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:31:55"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:32:05"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:32:05 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:32:05"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:35:50"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:35:50 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:35:50"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-07 19:36:35"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:36:35 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:36:35"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:36:35"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:36:35 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:36:35"}
{"level":"warn","message":"Intento de login fallido: usuario no encontrado - admin@sistema.com","service":"sistema-jireh","timestamp":"2025-08-07 19:36:53"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:36:53 +0000] \"POST /api/auth/login HTTP/1.1\" 401 37 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:36:53"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-07 19:37:00"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:37:00 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:37:00"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:37:00"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:37:00 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:37:00"}
{"level":"warn","message":"Intento de login fallido: usuario no encontrado - admin@sistema.com","service":"sistema-jireh","timestamp":"2025-08-07 19:38:31"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:38:31 +0000] \"POST /api/auth/login HTTP/1.1\" 401 37 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:38:31"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-07 19:39:06"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:39:06 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:39:06"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:39:06"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:39:06 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:39:06"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:50:17"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:50:17 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:50:17"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:53:50"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:53:50 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:53:50"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 19:56:36"}
{"level":"info","message":"::1 - - [08/Aug/2025:01:56:36 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 19:56:36"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 20:02:00"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:02:00 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:02:00"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 20:03:48"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:03:48 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:03:48"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 20:08:57"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:08:57 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:08:57"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 20:17:51"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:17:51 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:17:51"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 20:25:58"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:25:58 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:25:58"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-07 20:32:57"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-07 20:32:57"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-07 20:32:57"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-07 20:32:57"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-07 20:32:57"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 20:33:08"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:33:08 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:33:08"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-07 20:33:33"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:33:33 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:33:33"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-07 20:33:33"}
{"level":"info","message":"::1 - - [08/Aug/2025:02:33:33 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-07 20:33:33"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 11:20:16"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 11:20:16"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 11:20:16"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 11:20:16"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 11:20:16"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 11:22:12"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:22:12 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:22:12"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 11:22:12"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:22:12 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:22:12"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 11:24:07"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:24:07 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 401 47 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:24:07"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 11:30:02"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 11:30:02"}
{"level":"warn","message":"Acceso denegado para usuario Carlos Collado con rol Invitado","service":"sistema-jireh","timestamp":"2025-08-08 11:30:02"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:30:02 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 403 59 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:30:02"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 11:30:16"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:30:16 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:30:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 11:30:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 11:30:16"}
{"level":"warn","message":"Acceso denegado para usuario Carlos Collado con rol Invitado","service":"sistema-jireh","timestamp":"2025-08-08 11:30:16"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:30:16 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 403 59 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:30:16"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 11:37:25"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 11:37:25"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 11:37:25"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 11:37:25"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 11:37:25"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 11:37:33"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 11:37:33"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 11:37:33"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 11:37:33"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:37:33 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:37:33"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 11:37:46"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:37:46 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:37:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 11:37:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 11:37:46"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 11:37:46"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 11:37:46"}
{"level":"info","message":"::1 - - [08/Aug/2025:17:37:46 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 11:37:46"}
{"level":"warn","message":"Intento de login fallido: usuario no encontrado - prueba@sistema.com","service":"sistema-jireh","timestamp":"2025-08-08 17:59:42"}
{"level":"info","message":"::1 - - [08/Aug/2025:23:59:42 +0000] \"POST /api/auth/login HTTP/1.1\" 401 37 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 17:59:42"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 17:59:51"}
{"level":"info","message":"::1 - - [08/Aug/2025:23:59:51 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 17:59:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 17:59:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 17:59:51"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 17:59:51"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 17:59:51"}
{"level":"info","message":"::1 - - [08/Aug/2025:23:59:51 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 17:59:51"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:10:04 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:10:04 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:10:04 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:10:04 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:10:04"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:10:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:10:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:10:10"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:10:10"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:10:10 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:10:10"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:10:12"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:10:12 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:10:12"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:10:12"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:10:12 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:10:12"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:11:26"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:11:26 +0000] \"POST /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:11:26"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:12:20"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:12:20 +0000] \"POST /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:12:20"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:15:54 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:15:54 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:15:54 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:15:54 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:15:54 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:15:54 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:15:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:16:48 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:16:48 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:16:48 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 200 416 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:16:48 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:16:48 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"warn","message":"Intento de acceso sin token de autenticación","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:16:48 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 401 47 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:16:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:09 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:09 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:09 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:09 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:09"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:10 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:10 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:50 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:50 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:50 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:50 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:51 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:17:51 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:17:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:00 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:00 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:00 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:00"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:02"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:02"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:02"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:18:02"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:02 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:02"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:05 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:05 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:05"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Usuario actualizado exitosamente: nombre.de.usuario por Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:53 +0000] \"PUT /api/mantenimiento/usuarios/7 HTTP/1.1\" 200 46 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:53 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 200 416 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:18:53 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:18:53"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:19:33"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:19:33"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:19:33"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:19:33"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:19:33 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:19:33"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:19:43 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:19:43 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:19:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Usuario actualizado exitosamente: admin por Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:20:08 +0000] \"PUT /api/mantenimiento/usuarios/1 HTTP/1.1\" 200 46 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:20:08 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 200 416 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:20:08"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:20:09"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:20:09 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:20:09"}
{"level":"warn","message":"Intento de login fallido: contraseña incorrecta - nuevo.usuario@jireh.com","service":"sistema-jireh","timestamp":"2025-08-08 18:21:20"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:21:20 +0000] \"POST /api/auth/login HTTP/1.1\" 401 37 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:21:20"}
{"level":"warn","message":"Intento de login fallido: contraseña incorrecta - nuevo.usuario@jireh.com","service":"sistema-jireh","timestamp":"2025-08-08 18:21:29"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:21:29 +0000] \"POST /api/auth/login HTTP/1.1\" 401 37 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:21:29"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 18:21:39"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:21:39 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:21:39"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:21:39"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:21:39"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:21:39"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:21:39"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:21:39 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:21:39"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:21:43 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"error","message":"Error al obtener registros de auditoria: no existe la columna Auditoria.fecha_registro","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":122,"line":"3721","name":"error","position":"221","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;"},"service":"sistema-jireh","sql":"SELECT \"id_log\", \"usuario\" AS \"id_usuario\", \"accion\", \"tabla_afectada\", \"id_registro\" AS \"id_registro_afectado\", \"descripcion\" AS \"detalles\", \"fecha\" AS \"fecha_accion\", \"usuario\" FROM \"auditoria\" AS \"Auditoria\" ORDER BY \"Auditoria\".\"fecha_registro\" DESC;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Auditoria.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async obtenerAuditoria (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:182:23)","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:21:43 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:21:43"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 18:37:46"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 18:37:46"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 18:37:46"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 18:37:46"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 18:37:46"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 18:40:32"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 18:40:32"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 18:40:32"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 18:40:32"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 18:40:32"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 18:41:58"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 18:41:59"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 18:41:59"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 18:41:59"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 18:41:59"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 18:42:54"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 18:42:54"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 18:42:54"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 18:42:54"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 18:42:54"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-08-08 18:47:00"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 18:47:11"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 18:47:11"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 18:47:11"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 18:47:11"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 18:47:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:47:35"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:47:36"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:47:36"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:47:36"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:47:36 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:47:36"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:47:49 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:47:49 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 5648 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:47:49"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:49:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Usuario creado exitosamente: carlos hernandez por Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:49:51 +0000] \"POST /api/mantenimiento/usuarios HTTP/1.1\" 201 41 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:49:51 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 200 528 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:49:51 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 5883 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:49:51"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-08 18:50:16"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:16 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:50:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:50:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:50:16"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:50:16"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:16 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:21 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:21 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 6044 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:21"}
{"level":"info","message":"Login exitoso para usuario: carlos hernandez","service":"sistema-jireh","timestamp":"2025-08-08 18:50:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:43 +0000] \"POST /api/auth/login HTTP/1.1\" 200 291 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:50:43"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:50:43"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:50:43"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-08 18:50:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:43 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:50:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-08 18:50:50"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:50:50"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:50:50"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-08 18:50:50"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-08 18:50:50"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:50 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:50"}
{"level":"info","message":"::1 - - [09/Aug/2025:00:50:51 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 6205 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-08 18:50:51"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-08 18:54:30"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-08 18:54:30"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-08 18:54:30"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-08 18:54:30"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-08 18:54:30"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-08-08 18:54:40"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 17:16:25"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 17:16:25"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 17:16:25"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 17:16:25"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 17:16:25"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-09 17:16:40"}
{"level":"info","message":"::1 - - [09/Aug/2025:23:16:40 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 17:16:40"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 17:16:41"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 17:16:41"}
{"level":"info","message":"::1 - - [09/Aug/2025:23:16:41 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 17:16:41"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 17:16:41"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 17:16:41"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 17:16:41"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 17:16:41"}
{"level":"info","message":"::1 - - [09/Aug/2025:23:16:41 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 17:16:41"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:23:16:43 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 17:16:43"}
{"level":"info","message":"::1 - - [09/Aug/2025:23:16:44 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 17:16:44"}
{"level":"info","message":"::1 - - [09/Aug/2025:23:16:44 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 8890 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 17:16:44"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 18:35:40"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 18:35:40"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 18:35:40"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 18:35:40"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 18:35:40"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-08-09 18:35:54"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-08-09 18:35:54"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:35:54 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:35:54"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:36:01 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:36:01 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:36:01 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:36:01"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:36:03 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:36:03 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:36:03 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 9051 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:36:03"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:20 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:20 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:20"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:21 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:21 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:21 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:21 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:21"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:22"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:22"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:22 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:22"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 18:50:22"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 18:50:22"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 18:50:22"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 18:50:22"}
{"level":"info","message":"::1 - - [10/Aug/2025:00:50:22 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 18:50:22"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:10:49"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:10:49"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:10:49"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:10:49"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:10:49"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:10:59"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:10:59"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:10:59"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:10:59"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:10:59"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:11:43"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:11:43"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:11:43"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:11:43"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:11:43"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:11:47"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:11:47"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:11:47"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:11:47"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:11:47"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:13:15"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:13:15"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:13:15"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:13:15"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:13:15"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:13:27"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:13:27"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:13:27"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:13:27"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:13:27"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:15:48"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:15:48"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:15:48"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:15:48"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:15:48"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:16:18"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:16:18"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:16:18"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:16:18"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:16:18"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:17:09"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:09"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:17:09"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:09"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:17:09"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:17:16"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:16"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:17:16"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:16"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:17:16"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:17:39"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:39"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:17:39"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:39"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:17:39"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:17:46"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:46"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:17:46"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:17:46"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:17:46"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:18:48"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:18:48"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:18:48"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:18:48"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:18:48"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:18:54"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:18:54"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:18:54"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:18:54"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:18:54"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:19:12"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:19:12"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:19:12"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:19:12"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:19:12"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:19:21"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:19:21"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:19:21"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:19:21"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:19:21"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:20:18"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:18"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:20:18"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:18"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:20:18"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:20:29"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:29"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:20:29"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:29"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:20:29"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:20:42"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:42"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:20:42"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:42"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:20:42"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:20:57"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:57"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:20:57"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:20:57"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:20:57"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:21:04"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:21:04"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:21:04"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:21:04"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:21:04"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:23:51"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:23:51"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:23:51"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:23:51"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:23:51"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 19:24:44"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 19:24:44"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 19:24:44"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 19:24:44"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 19:24:44"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-08-09 19:24:51"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-09 20:07:43"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-09 20:07:43"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-09 20:07:43"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-09 20:07:43"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-09 20:07:43"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-08-09 20:15:20"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-08-09 20:15:20"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:15:20 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:15:20"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:16:04 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:16:04 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:16:04 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:16:04"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:16:09 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:16:09 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:16:09 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 9212 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:16:09"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:31:16 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:31:16 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:31:16"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:31:17 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:31:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:16 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:16 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:16 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:16"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:24 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:24 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:24 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:24"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:27 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:27 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:27 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 9373 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:27"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:34"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:34"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:34 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:34"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:34"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:51:34"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-09 20:51:34"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:34 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:44 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"::1 - - [10/Aug/2025:02:51:44 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-09 20:51:44"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 07:29:37"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 07:29:37"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 07:29:37"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 07:29:37"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 07:29:37"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"::1 - - [10/Aug/2025:13:30:44 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"::1 - - [10/Aug/2025:13:30:44 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"::1 - - [10/Aug/2025:13:30:44 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 07:30:44"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"::1 - - [10/Aug/2025:13:31:23 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"::1 - - [10/Aug/2025:13:31:23 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"::1 - - [10/Aug/2025:13:31:23 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 9534 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 07:31:23"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 09:27:54"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 09:27:54"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 09:27:54"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 09:27:54"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 09:27:54"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-08-10 09:28:06"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-08-10 09:28:06"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:06 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:06"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:13 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:13 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:13 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:13"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:28"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:28"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 09:28:28"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 09:28:28"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:28 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:28"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:34"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:34"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:34 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:34"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:34"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:34 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:35"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:35"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 09:28:35"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 09:28:35"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:35 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:35"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:38"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:38"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:38 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:38"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:39"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:39"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:39 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:39"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:39"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:39"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:39 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:39"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:40"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:40"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:40 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:40"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:41"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:41"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:41 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:41"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:42"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:42"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:42 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:42"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:42"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:42"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:42 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:42"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:43"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:43 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:44"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:44"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:44 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:44"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:46 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:46 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:46 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 9695 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:51"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:51 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:51"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 09:28:51"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 09:28:51"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:51 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:54 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:54 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:54 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:54"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:55 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:55 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:55 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:55 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"::1 - - [10/Aug/2025:15:28:55 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 09:28:55"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 19:21:58"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 19:21:58"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 19:21:58"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 19:21:58"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 19:21:58"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 19:22:19"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-08-10 19:28:28"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 19:28:41"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 19:28:41"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 19:28:41"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 19:28:41"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 19:28:41"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 19:32:06"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 19:32:06"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 19:32:06"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 19:32:06"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 19:32:06"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-10 19:32:11"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:32:11 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:32:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:32:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:32:11"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:32:11 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:32:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:32:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:32:12"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:32:12"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:32:12"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:32:12 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:32:12"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:33:00"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:33:00"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:33:00 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:33:00"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:33:12"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:33:12"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:33:12 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:33:12"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:33:13 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:33:13 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 9856 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:33:13"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 19:38:33"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 19:38:33"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 19:38:33"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 19:38:33"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 19:38:33"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:38:50 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:38:50 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:38:50 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:38:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:38:52 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:38:52 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:38:52 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:38:52"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:39:09"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:39:10 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:39:10 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:39:10 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:39:10"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 19:40:22"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 19:40:22"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 19:40:22"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 19:40:22"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 19:40:22"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:40:29"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:40:29"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:40:29 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:40:29"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:40:30 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:40:30 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:40:30"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:02 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:02 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:02 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:02"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:05"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:05"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:05 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:05"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:05"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:05"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:06"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:43:06"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:06"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:43:06"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:06 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:06"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:06 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:06"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:46 +0000] \"POST /api/auth/login HTTP/1.1\" 200 280 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:46 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:46 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:48 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:48 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:43:48 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 10017 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:43:48"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-10 19:47:02"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-10 19:47:02"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-10 19:47:02"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-10 19:47:02"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-10 19:47:02"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:15"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:15"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:15 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 92 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:15"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:15"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:15"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:15"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:47:15"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:15 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:15"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:17 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:17 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:17 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:20 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:20 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:20 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:20"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:40"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:40"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:40"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:40 +0000] \"PUT /api/mantenimiento/usuarios/8 HTTP/1.1\" 400 175 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:40"}
{"level":"info","message":"Login exitoso para usuario: carlos hernandez","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:55 +0000] \"POST /api/auth/login HTTP/1.1\" 200 356 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:55 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 103 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:55 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:55"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:57 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:57 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:47:57 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 10300 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:47:57"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-10 19:48:17"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-10 19:48:17"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-10 19:48:17"}
{"level":"info","message":"::1 - - [11/Aug/2025:01:48:17 +0000] \"PUT /api/mantenimiento/usuarios/5 HTTP/1.1\" 400 175 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-10 19:48:17"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-17 08:22:38"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-17 08:22:38"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-17 08:22:38"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-17 08:22:38"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-17 08:22:38"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-08-17 08:24:28"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-08-17 08:24:28"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:24:28 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:24:28"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:24:46 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:24:46 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 92 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:24:46 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:24:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:24:49"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:24:49"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:24:49 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:24:49"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:24:50 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:24:50 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 10572 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:24:50"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:28:34 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:28:34 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:28:34 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:28:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:28:37"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:28:37"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:28:37 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:28:37"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:28:37"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:28:37"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:28:37"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:28:37"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:28:38"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:28:38"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:28:38 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:28:38"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:28:38 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 10844 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:28:38"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:11 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:11 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:11 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:15"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:15"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:15 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:15"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:16 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:16 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:16"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:28 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:28 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:28 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:28"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:30 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:30 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:39:30 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 11116 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:39:30"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-08-17 08:40:00"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-17 08:40:08"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-17 08:40:08"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-17 08:40:08"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-17 08:40:08"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-17 08:40:08"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:16 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:16 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:16 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:16"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:19 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:19 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:19 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:19"}
{"level":"info","message":"Login exitoso para usuario: carlos hernandez","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:51 +0000] \"POST /api/auth/login HTTP/1.1\" 200 356 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:51 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 103 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:51 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:54 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:54 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:40:54 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 11399 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:40:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:41:53"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Usuario actualizado exitosamente: nuevo.usuario@jireh.com por carlos hernandez","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:41:54 +0000] \"PUT /api/mantenimiento/usuarios/6 HTTP/1.1\" 200 46 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:41:54 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 200 328 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:41:54 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 11924 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:41:54"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:44:24 +0000] \"PUT /api/mantenimiento/usuarios/6 HTTP/1.1\" 400 175 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"::1 - - [17/Aug/2025:14:44:24 +0000] \"PUT /api/mantenimiento/usuarios/6 HTTP/1.1\" 400 175 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-17 08:44:24"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-24 07:35:10"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-24 07:35:10"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-24 07:35:10"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-24 07:35:10"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-24 07:35:10"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-08-24 08:07:42"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-08-24 08:07:42"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:07:42 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:07:42"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:23 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:23 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 92 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:23 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:23"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:32"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:32"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:32 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:32"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:33"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:33"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:33 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:33"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:34"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:34"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:34 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:34"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:35"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:35"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:35 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:35"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:36 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:08:36 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 12196 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:08:36"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:09:41"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:09:41"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:09:41"}
{"level":"info","message":"Usuario creado exitosamente: carlos Herrera por Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:09:42 +0000] \"POST /api/mantenimiento/usuarios HTTP/1.1\" 201 41 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:09:42 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 200 430 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:09:42 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 12557 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:09:42"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:11 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:11 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:11 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:17 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:17 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:17 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 12829 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:17"}
{"level":"info","message":"Login exitoso para usuario: carlos Herrera","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:49 +0000] \"POST /api/auth/login HTTP/1.1\" 200 343 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"Usuario autenticado: carlos Herrera (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:49 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 93 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"Usuario autenticado: carlos Herrera (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"Acceso autorizado para usuario carlos Herrera con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:49 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:49"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"Usuario autenticado: carlos Herrera (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:53 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"Usuario autenticado: carlos Herrera (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"Acceso autorizado para usuario carlos Herrera con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"Usuario autenticado: carlos Herrera (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"Acceso autorizado para usuario carlos Herrera con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 08:10:53"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:54 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:54"}
{"level":"info","message":"::1 - - [24/Aug/2025:14:10:54 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 13102 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 08:10:54"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-24 10:05:37"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-24 10:05:37"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-24 10:05:37"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-24 10:05:37"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-24 10:05:37"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:06:48 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:06:48 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 92 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:06:48 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:06:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:06:51"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:06:51"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:06:51 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:06:51"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:06:52 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:06:52 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 13374 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:06:52"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:07:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:07:10"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:07:10 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:07:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:07:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:07:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:07:10"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-24 10:07:10"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:07:10 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:07:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:07:11"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:07:11"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:07:11 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:07:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:07:11"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:07:12"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:07:12"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:07:12"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:07:12"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:07:12"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:07:12 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:07:12"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:07:12 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:07:12"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:07:25"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:07:25"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:07:25"}
{"fields":null,"level":"error","message":"Error al eliminar usuario: 5:  update o delete en «usuarios» viola la llave foránea «auditoria_usuario_fkey» en la tabla «auditoria»","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(5) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 5","table":"auditoria"},"parameters":{},"parent":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(5) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 5","table":"auditoria"},"service":"sistema-jireh","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 5","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.delete (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async eliminarUsuario (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:186:5)","timestamp":"2025-08-24 10:07:26"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:07:26 +0000] \"DELETE /api/mantenimiento/usuarios/5 HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:07:26"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:07:40"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:07:40"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:07:40"}
{"fields":null,"level":"error","message":"Error al eliminar usuario: 6:  update o delete en «usuarios» viola la llave foránea «auditoria_usuario_fkey» en la tabla «auditoria»","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(6) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 6","table":"auditoria"},"parameters":{},"parent":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(6) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 6","table":"auditoria"},"service":"sistema-jireh","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 6","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.delete (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async eliminarUsuario (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:186:5)","timestamp":"2025-08-24 10:07:40"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:07:40 +0000] \"DELETE /api/mantenimiento/usuarios/6 HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:07:40"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:10:15"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:10:15"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:10:15"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:10:15 +0000] \"PUT /api/mantenimiento/usuarios/5 HTTP/1.1\" 400 175 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:10:15"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:10:32"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:10:32"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:10:32"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:10:32 +0000] \"PUT /api/mantenimiento/usuarios/5 HTTP/1.1\" 400 175 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:10:32"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 10:10:43"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 10:10:43"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 10:10:43"}
{"fields":null,"level":"error","message":"Error al eliminar usuario: 9:  update o delete en «usuarios» viola la llave foránea «auditoria_usuario_fkey» en la tabla «auditoria»","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(9) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 9","table":"auditoria"},"parameters":{},"parent":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(9) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 9","table":"auditoria"},"service":"sistema-jireh","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 9","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.delete (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async eliminarUsuario (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:186:5)","timestamp":"2025-08-24 10:10:43"}
{"level":"info","message":"::1 - - [24/Aug/2025:16:10:43 +0000] \"DELETE /api/mantenimiento/usuarios/9 HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 10:10:43"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-24 20:03:39"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-24 20:03:39"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-24 20:03:39"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-24 20:03:39"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-24 20:03:39"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-08-24 20:03:42"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-24 20:04:01"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-24 20:04:01"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-24 20:04:01"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-24 20:04:01"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-24 20:04:01"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-08-24 20:05:00"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-08-24 20:05:00"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:00 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:00"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:07 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:07 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:07 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:07"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:10 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:10 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:10 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 13646 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:10"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-24 20:05:16"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-24 20:05:16"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-24 20:05:16"}
{"fields":null,"level":"error","message":"Error al eliminar usuario: 9:  update o delete en «usuarios» viola la llave foránea «auditoria_usuario_fkey» en la tabla «auditoria»","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(9) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 9","table":"auditoria"},"parameters":{},"parent":{"code":"23503","constraint":"auditoria_usuario_fkey","detail":"La llave (id_usuario)=(9) todavía es referida desde la tabla «auditoria».","file":"ri_triggers.c","length":298,"line":"2624","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 9","table":"auditoria"},"service":"sistema-jireh","sql":"DELETE FROM \"usuarios\" WHERE \"id_usuario\" = 9","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.delete (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async eliminarUsuario (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\mantenimientoControlador.js:186:5)","timestamp":"2025-08-24 20:05:16"}
{"level":"info","message":"::1 - - [25/Aug/2025:02:05:16 +0000] \"DELETE /api/mantenimiento/usuarios/9 HTTP/1.1\" 500 40 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-24 20:05:16"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-27 15:40:07"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-27 15:40:07"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-27 15:40:07"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-27 15:40:07"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-27 15:40:07"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-27 15:40:15"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-27 15:40:15"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-27 15:40:15"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-27 15:40:15"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-27 15:40:15"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-08-27 15:43:58"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-08-27 15:43:58"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:43:58 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:43:58"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:48:22 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:48:22 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:48:22 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:48:22"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:48:25 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:48:25 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:48:25 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 13918 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:48:25"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Usuario actualizado exitosamente: carlos Herrera por Carlos Collado","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:49:20 +0000] \"PUT /api/mantenimiento/usuarios/9 HTTP/1.1\" 200 46 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:49:20 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"::1 - - [27/Aug/2025:21:49:20 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 14402 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-08-27 15:49:20"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-08-27 15:51:06"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-08-27 15:51:06"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-08-27 15:51:06"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-08-27 15:51:06"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-08-27 15:51:06"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 13:08:11"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 13:08:11"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 13:08:11"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 13:08:11"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 13:08:11"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-09-03 13:08:24"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 13:08:34"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 13:08:34"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 13:08:34"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 13:08:34"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 13:08:34"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 13:08:47"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 13:08:47"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 13:08:47"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 13:08:47"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 13:08:47"}
{"level":"error","message":"Error al verificar token JWT:","service":"sistema-jireh","timestamp":"2025-09-03 13:09:01"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-09-03 13:09:01"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:01 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:01"}
{"level":"info","message":"Login exitoso para usuario: carlos hernandez","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:17 +0000] \"POST /api/auth/login HTTP/1.1\" 200 356 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:17 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 103 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:17 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:17"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:24"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:24"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:24 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:24"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:25"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:25"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:25 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:25"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:29 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:29 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:29 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 14685 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:29"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:43"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:43"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:43 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:43"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:43"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 13:09:43"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-09-03 13:09:43"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:43 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:43"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:09:47"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:09:47"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:09:47 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:09:47"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:10:57"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:10:57"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:10:57 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:10:57"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:10:57"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:10:57"}
{"level":"info","message":"Acceso autorizado para usuario carlos hernandez con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 13:10:57"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: Empleados.count is not a function","service":"sistema-jireh","stack":"TypeError: Empleados.count is not a function\n    at obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:20:17)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\middlewares\\authMiddleware.js:77:5\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-09-03 13:10:57"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:10:57 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:10:57"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:10:59"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:10:59"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:10:59 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:10:59"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 13:15:50"}
{"level":"info","message":"Usuario autenticado: carlos hernandez (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 13:15:50"}
{"level":"info","message":"::1 - - [03/Sep/2025:19:15:50 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 13:15:50"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 13:46:27"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 13:46:27"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 13:46:27"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 13:46:27"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 13:46:27"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 13:48:01"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 13:48:01"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 13:48:01"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 13:48:01"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 13:48:01"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 13:58:11"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 13:58:11"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 13:58:11"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 13:58:11"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 13:58:11"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 13:58:18"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 13:58:18"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 13:58:18"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 13:58:18"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 13:58:18"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:00:01"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:00:01"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:00:01"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:00:01"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:00:01"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:04:48"}
{"level":"error","message":"Error en autenticación:","service":"sistema-jireh","timestamp":"2025-09-03 14:04:48"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:04:48 +0000] \"GET /api/auth/perfil HTTP/1.1\" 401 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:04:48"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'carloshernandez@gmail.com' OR \"Usuarios\".\"correo\" = 'carloshernandez@gmail.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'carloshernandez@gmail.com' OR \"Usuarios\".\"correo\" = 'carloshernandez@gmail.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'carloshernandez@gmail.com' OR \"Usuarios\".\"correo\" = 'carloshernandez@gmail.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:04:53"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:04:53 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:04:53"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:05:06"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:05:06 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:05:06"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:05:08"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:05:08 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:05:08"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:05:09"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:05:09 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:05:09"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'carloshernandez@gmail.com' OR \"Usuarios\".\"correo\" = 'carloshernandez@gmail.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'carloshernandez@gmail.com' OR \"Usuarios\".\"correo\" = 'carloshernandez@gmail.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'carloshernandez@gmail.com' OR \"Usuarios\".\"correo\" = 'carloshernandez@gmail.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:05:19"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:05:19 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:05:19"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-09-03 14:05:43"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:05:48"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:05:48"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:05:48"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:05:48"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:05:48"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:05:59"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:05:59 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:05:59"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:07:56"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:07:56"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:07:56"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:07:56"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:07:56"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:07:59"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:07:59"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:07:59"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:07:59"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:07:59"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:07"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:07 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:07"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:08"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:08 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:08"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:08"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:08 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:08"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:09"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:09 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:09"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:09"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:09 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:09"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:09"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:09 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:09"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:09"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:09 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:09"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:08:09"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:08:09 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:08:09"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-09-03 14:09:14"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:09:23"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:09:23"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:09:23"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:09:23"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:09:23"}
{"level":"error","message":"Error en login: no existe la columna Usuarios.estado_usuario","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Usuarios.estadousuario».","length":201,"line":"3732","name":"error","position":"134","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;"},"service":"sistema-jireh","sql":"SELECT \"Usuarios\".\"id_usuario\", \"Usuarios\".\"nombre_usuario\", \"Usuarios\".\"correo\", \"Usuarios\".\"contrasena_hash\", \"Usuarios\".\"id_rol\", \"Usuarios\".\"estado_usuario\" AS \"estadoUsuario\", \"Usuarios\".\"creado_por\", \"Usuarios\".\"actualizado_por\", \"Usuarios\".\"fecha_creacion\", \"Usuarios\".\"fecha_actualizacion\", \"roles\".\"id_rol\" AS \"roles.id_rol\", \"roles\".\"nombre_rol\" AS \"roles.nombre_rol\" FROM \"usuarios\" AS \"Usuarios\" LEFT OUTER JOIN \"roles\" AS \"roles\" ON \"Usuarios\".\"id_rol\" = \"roles\".\"id_rol\" WHERE (\"Usuarios\".\"nombre_usuario\" = 'prueba@jireh.com' OR \"Usuarios\".\"correo\" = 'prueba@jireh.com') LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Usuarios.findAll (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Usuarios.findOne (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async login (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\authControlador.js:57:21)","timestamp":"2025-09-03 14:09:26"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:09:26 +0000] \"POST /api/auth/login HTTP/1.1\" 500 40 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:09:26"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:10:24"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:10:24"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:10:24"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:10:24"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:10:24"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-09-03 14:10:28"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:10:36"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:10:36"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:10:36"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:10:36"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:10:36"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:10:37 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:10:37 +0000] \"GET /api/auth/perfil HTTP/1.1\" 200 92 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"error","message":"Error al obtener estadísticas del dashboard: no existe la columna Empleados.estado_empleado","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Empleados.estadoempleado».","length":204,"line":"3732","name":"error","position":"66","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT count(*) AS \"count\" FROM \"empleados\" AS \"Empleados\" WHERE \"Empleados\".\"estado_empleado\" = true;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","hint":"Probablemente quiera hacer referencia a la columna «Empleados.estadoempleado».","length":204,"line":"3732","name":"error","position":"66","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT count(*) AS \"count\" FROM \"empleados\" AS \"Empleados\" WHERE \"Empleados\".\"estado_empleado\" = true;"},"service":"sistema-jireh","sql":"SELECT count(*) AS \"count\" FROM \"empleados\" AS \"Empleados\" WHERE \"Empleados\".\"estado_empleado\" = true;","stack":"Error\n    at Query.run (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.rawSelect (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:434:18)\n    at async Empleados.aggregate (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1277:19)\n    at async Empleados.count (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\node_modules\\sequelize\\lib\\model.js:1306:20)\n    at async Promise.all (index 0)\n    at async obtenerEstadisticas (C:\\Users\\carlo\\OneDrive\\Escritorio\\PG_sistemaJireh\\backend\\controladores\\dashboardControlador.js:18:9)","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:10:37 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 500 40 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:10:37"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:10:40 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:10:40 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:10:40 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 14957 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:10:40"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:11:47"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:11:47"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:11:47"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:11:47"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:11:47"}
{"level":"info","message":"Señal SIGINT recibida, cerrando servidor...","service":"sistema-jireh","timestamp":"2025-09-03 14:12:33"}
{"level":"info","message":"Conexión a la base de datos establecida correctamente.","service":"sistema-jireh","timestamp":"2025-09-03 14:12:39"}
{"level":"info","message":"Servidor iniciado en puerto 3000","service":"sistema-jireh","timestamp":"2025-09-03 14:12:39"}
{"level":"info","message":"Ambiente: development","service":"sistema-jireh","timestamp":"2025-09-03 14:12:39"}
{"level":"info","message":"URL del servidor: http://localhost:3000","service":"sistema-jireh","timestamp":"2025-09-03 14:12:39"}
{"level":"info","message":"URL de la API: http://localhost:3000/api","service":"sistema-jireh","timestamp":"2025-09-03 14:12:39"}
{"level":"info","message":"Login exitoso para usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:12:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 342 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:12:45 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 14:12:45"}
{"level":"info","message":"Dashboard consultado por usuario: Carlos Collado","service":"sistema-jireh","timestamp":"2025-09-03 14:12:46"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:12:46 +0000] \"GET /api/dashboard/estadisticas HTTP/1.1\" 200 254 \"http://localhost:5173/dashboard\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:12:46"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:12:48 +0000] \"GET /api/auth/perfil HTTP/1.1\" 304 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"Token verificado para usuario: undefined","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"Usuario autenticado: Carlos Collado (undefined)","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"Acceso autorizado para usuario Carlos Collado con rol Administrador","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:12:48 +0000] \"GET /api/mantenimiento/usuarios HTTP/1.1\" 304 - \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
{"level":"info","message":"::1 - - [03/Sep/2025:20:12:48 +0000] \"GET /api/mantenimiento/auditoria HTTP/1.1\" 200 15229 \"http://localhost:5173/mantenimiento/usuarios\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\"","service":"sistema-jireh","timestamp":"2025-09-03 14:12:48"}
